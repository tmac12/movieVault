tmdb:
  api_key: "${TMDB_API_KEY}"  # Injected from environment
  language: "en-US"

scanner:
  directories:
    - "/movies"  # Docker mount point
  extensions:
    - ".mp4"
    - ".mkv"
    - ".avi"
    - ".mov"
    - ".m4v"
    - ".webm"
    - ".flv"
    - ".wmv"
  concurrent_workers: 5    # Number of concurrent workers for parallel scanning (default: 5)

  # Watch mode (continuous monitoring)
  watch_mode: false        # Enable watch mode to continuously monitor directories
  watch_debounce: 30       # Seconds to wait after file change before processing
  watch_recursive: true    # Watch subdirectories recursively

  # Scheduled scanning (periodic)
  schedule_enabled: "${SCHEDULE_ENABLED:-false}"   # Enable scheduled scans
  schedule_interval: "${SCHEDULE_INTERVAL:-60}"    # Minutes between scans
  schedule_on_startup: true                         # Run immediately on startup

output:
  mdx_dir: "/data/movies"           # Persistent storage in Docker
  covers_dir: "/data/covers"        # Persistent storage in Docker
  website_dir: "/app/website"       # Astro website in Docker
  auto_build: false                 # Disabled - entrypoint.sh handles this
  cleanup_missing: false

options:
  rate_limit_delay: 250
  download_covers: true
  download_backdrops: true
  use_nfo: true
  nfo_fallback_tmdb: true
  nfo_download_images: false  # Download images from NFO file URLs (when true, tries NFO URLs first, falls back to TMDB)

retry:
  max_attempts: 3           # Maximum number of retry attempts for transient API errors
  initial_backoff_ms: 1000  # Initial backoff delay in milliseconds (doubles each retry)

cache:
  enabled: true             # Enable local caching of TMDB API responses
  path: "/data/cache.db"    # Path to SQLite cache database file
  ttl_days: 30              # Cache entry time-to-live in days (entries expire after this period)
